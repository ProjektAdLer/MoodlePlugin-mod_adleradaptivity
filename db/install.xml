<?xml version="1.0" encoding="UTF-8" ?>
<XMLDB PATH="mod/adleradaptivity/db" VERSION="20230918" COMMENT="XMLDB file for Moodle mod/adleradaptivity"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../../../lib/xmldb/xmldb.xsd"
>
  <TABLES>
    <TABLE NAME="adleradaptivity" COMMENT="Adler adaptivity activity module">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="course" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false"/>
        <FIELD NAME="name" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false"/>
        <FIELD NAME="intro" TYPE="text" NOTNULL="true" SEQUENCE="false"/>
        <FIELD NAME="adapt_element_intro" TYPE="text" NOTNULL="false" SEQUENCE="false"/>
        <FIELD NAME="introformat" TYPE="int" LENGTH="4" NOTNULL="false" DEFAULT="0" SEQUENCE="false"/>
        <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="fk_course" TYPE="foreign" FIELDS="course" REFTABLE="course" REFFIELDS="id"/>
      </KEYS>
    </TABLE>
    <TABLE NAME="mod_adleradapt_tasks" COMMENT="Tasks consist of multiple questions with different difficulties. Ugly table name ('adapt' instead of 'adaptivity' because moodle allows only short table names. This allows longer appendixes to describe the table.">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="adleradapt_id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false"/>
        <FIELD NAME="title" TYPE="text" NOTNULL="true" SEQUENCE="false"/>
        <FIELD NAME="uuid" TYPE="text" NOTNULL="true" SEQUENCE="false"/>
        <FIELD NAME="optional" TYPE="int" LENGTH="1" NOTNULL="true" SEQUENCE="false" COMMENT="Whether this task is optional to complete the module"/>
        <FIELD NAME="required_difficulty" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="higher is more difficult; condition is: equal or higher"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="fk_adleradapt" TYPE="foreign" FIELDS="adleradapt_id" REFTABLE="mod_adleradapt" REFFIELDS="id"/>
      </KEYS>
    </TABLE>
    <TABLE NAME="mod_adleradapt_questions" COMMENT="Individual questions. For the same task there might be multiple questions with different difficulties.  Ugly table name ('adapt' instead of 'adaptivity' because moodle allows only short table names. This allows longer appendixes to describe the table.">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="adleradapt_tasks_id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false"/>
        <FIELD NAME="question_bank_entries_id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false"/>
        <FIELD NAME="difficulty" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false"/>

      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="fk_adleradapt_tasks" TYPE="foreign" FIELDS="adleradapt_tasks_id" REFTABLE="mod_adleradapt_tasks" REFFIELDS="id"/>
        <KEY NAME="fk_question_bank_entries_id" TYPE="foreign" FIELDS="question_bank_entries_id" REFTABLE="question_bank_entries" REFFIELDS="id"/>
      </KEYS>
    </TABLE>
  </TABLES>
</XMLDB>
